#include <stdio.h>
#include <Windows.h>
#define NT_SUCCESS(Status) (((NTSTATUS)(Status)) >= 0)


int main() {
	// 'INVALID_HANDLE_VALUE' to intialize the variable
	HANDLE hFile = INVALID_HANDLE_VALUE;
	// Path where the file are created
	// Double \ to escape the single backslash character in C
	LPCWSTR path = L"C:\\Users\\MALDEV01\\Desktop\\testCFW.txt";
	hFile = CreateFileW(path, GENERIC_ALL, 0, NULL, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, NULL);
	
	// Handle exceptions
	if (!NT_SUCCESS(hFile)) {
		printf("[-] Failure creating file...\n%d", GetLastError());
		return -1;
	}

	return 0;
}
